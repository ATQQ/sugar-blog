---
title: å®è·µï¼šç»™å¥³æœ‹å‹ä¸ªæ€§åŒ–å®šåˆ¶åº”ç”¨-ä½“é‡è®°å½•ï¼ˆä¸€ï¼‰
date: 2021-06-13
tags:
 - æŠ€æœ¯ç¬”è®°
 - ä¸ªäººä½œå“
categories:
 - æŠ€æœ¯ç¬”è®°
---
# å®è·µï¼šç»™å¥³æœ‹å‹ä¸ªæ€§åŒ–å®šåˆ¶åº”ç”¨-ä½“é‡è®°å½•ï¼ˆä¸€ï¼‰

**æ­¤ç³»åˆ—çš„ç›®çš„æ˜¯å¸®åŠ©å‰ç«¯æ–°äººï¼Œç†Ÿæ‚‰ç°ä»£å‰ç«¯å·¥ç¨‹åŒ–å¼€å‘æ–¹å¼ä¸ç›¸å…³æŠ€æœ¯çš„ä½¿ç”¨ï¼Œæ™®åŠä¸€äº›é€šè¯†å†…å®¹**

## æœ¬æ–‡æ¶‰åŠå†…å®¹
>æå‡é˜…è¯»ä½“éªŒï¼Œæ–‡ç« å°†ä¼šåˆ†ä¸ºå¤šèŠ‚å‘å¸ƒï¼Œæœ¬èŠ‚ä¸»è¦é˜è¿°å‰ç«¯éƒ¨åˆ†
* åˆå§‹åŒ–Vue3+Vite+TSé¡¹ç›®
* VantUIç»„ä»¶åº“å¼•å…¥
* ç§»åŠ¨ç«¯é€‚é…
* è‡ªå®šä¹‰ç»„ä»¶å¼€å‘
* @vue/compiler-sfc
* å½©è‰²å­—ä½“å›¾æ ‡çš„ä½¿ç”¨


## èƒŒæ™¯
å¥³æœ‹å‹å¤©å¤©éƒ½åœ¨å¿µå¨:"æˆ‘åˆèƒ–äº†,æ€ä¹ˆä¸åƒä¸œè¥¿ä¹Ÿæ²¡è§è½»"

ä¸ºäº†è®°å½•æ¯æ¬¡ä½“é‡æ•°æ®çš„å˜åŒ–ï¼Œå°±ä¸‹è½½äº†è®°å½•ä½“é‡çš„Appï¼Œç”¨äº†å‡ ä¸ªéƒ½ä¸å¤ªæ»¡æ„ï¼ˆä¸»è¦æ˜¯ä¸æ»¡æ„æ•°æ®åæ˜ å‡ºçš„å›¾è¡¨å†…å®¹ï¼‰

äºæ˜¯ä¹å’±å°±æ‹¿å‡ºé”®ç›˜âŒ¨ğŸ–°å°±ç»™å¥¹æ‰“é€ ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„

## éœ€æ±‚
é•¿è¯çŸ­è¯´ï¼š
* åŸºæœ¬çš„ä½“é‡è®°å½•ï¼ˆCRUDï¼‰
* å¤šæ ·åŒ–çš„æ•°æ®ç»Ÿè®¡æŠ¥è¡¨
  * ååº”æ¯ä¸€æ¬¡çš„å˜åŒ–
  * æœ€åä¸€æ¬¡ä¸å½“å¤©çš„ç¬¬ä¸€æ¬¡çš„æ¯”è¾ƒ
  * æŒ‡å®šæ—¶é—´åŒºé—´é‡Œçš„å˜åŒ–
  * ...more

## æŠ€æœ¯æ–¹æ¡ˆ
æ˜ç¡®äº†**ç›®æ ‡ç”¨æˆ·**ä¸**ç”¨æˆ·è¯‰æ±‚**åï¼Œæ¥ä¸‹æ¥ç›´æ¥å®šæŠ€æœ¯æ–¹æ¡ˆ

åº”ç”¨å½¢å¼ï¼š**H5ï¼ˆç§»åŠ¨åˆ°Webåº”ç”¨ï¼‰**

### å‰ç«¯
* æ¡†æ¶ï¼šVue3
* è¯­è¨€ï¼šTypeScript
* æ„å»ºå·¥å…·ï¼šVite2
* ç»„ä»¶ï¼šVant UI
* ç½‘ç»œï¼šAxios
* CSSé¢„å¤„ç†ï¼šSass

### åç«¯
* Node.js + TypeScript
* æ•°æ®åº“ï¼šè²å…³ç³»å‹æ•°æ®åº“ï¼ˆMongoDBæˆ–äº‘å¼€å‘ç”¨æ–‡æ¡£æ•°æ®åº“ï¼‰

### éƒ¨ç½²
å‡ä½¿ç”¨ServerlessæœåŠ¡éƒ¨ç½²ï¼Œæ€§èƒ½å¥½åˆä¾¿å®œ

* åç«¯ï¼š[è…¾è®¯äº‘Serverlessåº”ç”¨](https://console.cloud.tencent.com/sls)
* å‰ç«¯ï¼š[è…¾è®¯äº‘å¼€å‘-é™æ€èµ„æºæ‰˜ç®¡](https://console.cloud.tencent.com/tcb/env/index?rid=4)ï¼Œè¿™éƒ¨åˆ†æ•™ç¨‹[æˆ³æ­¤æŸ¥çœ‹](https://juejin.cn/post/6964015528662794254)

### æ¦‚è§ˆ
![å›¾ç‰‡](https://img.cdn.sugarat.top/mdImg/MTYyMzY0MjU5MjE3Mg==%E6%97%B6%E5%85%89%E6%81%8B%E4%BA%BA.png)

## å¼€å‘å‡†å¤‡

### é¡¹ç›®åˆå§‹åŒ–
ç›´æ¥ä½¿ç”¨æ­å»ºçš„[ATQQ/vite-vue3-template](https://github.com/atqq/vite-vue3-template)æ¨¡æ¿[åˆå§‹åŒ–é¡¹ç›®](https://github.com/ATQQ/vite-vue3-template/generate)


![å›¾ç‰‡](https://img.cdn.sugarat.top/mdImg/MTYyMzY0MzEwNDkzNw==623643104937)

### å¼•å…¥Vant UI
**æ·»åŠ ä¾èµ–**
```sh
yarn add vant@next
```

**é…ç½®æŒ‰éœ€å¼•å…¥**
```ts
// vite.config.ts
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'
import styleImport from 'vite-plugin-style-import'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [
    vue(),
    styleImport({
      libs: [
        {
          libraryName: 'vant',
          esModule: true,
          resolveStyle: (name) => `vant/es/${name}/style`,
        },
      ],
    }),
  ]
})

```
```ts
// src/utils/vantUI.ts
import { App } from '@vue/runtime-core'

// æŒ‰éœ€å¼•å…¥
import { Button } from 'vant'

const conponents = [Button]

export default function mountVantUI(app: App<Element>) {
  conponents.forEach((c) => {
    app.component(c.name, c)
  })
}
```
### é¡µé¢
ä¸€æœŸé¢„è®¡4ä¸ªé¡µé¢ï¼š
* é¦–é¡µ
* ç™»å½•
* åŠŸèƒ½é¢æ¿
* ä½“é‡è®°å½•

å¿«é€Ÿå»ºç«‹å¥½4ä¸ªé¡µé¢çš„æ¨¡æ¿
```sh
# src/pages/
â”œâ”€â”€ 404           # 404
|  â””â”€â”€ index.vue
â”œâ”€â”€ dashboard     # åŠŸèƒ½é¢æ¿
|  â””â”€â”€ index.vue
â”œâ”€â”€ funcs
|  â””â”€â”€ weight     # ä½“é‡è®°å½•
|     â””â”€â”€ index.vue
â”œâ”€â”€ home          # é¦–é¡µ
|  â””â”€â”€ index.vue
â””â”€â”€ login         # ç™»å½•é¡µ
   â””â”€â”€ index.vue

directory: 6 file: 5
```
### è·¯ç”±é…ç½®
é¡µé¢ç¡®å®šåï¼Œé…ç½®ä¸€ä¸‹é¡µé¢è·¯ç”±

`src/router/routes/index.ts`
```ts
import { RouteRecordRaw } from 'vue-router'
import Home from '../../pages/home/index.vue'

const NotFind = () => import('../../pages/404/index.vue')
const Login = () => import('../../pages/login/index.vue')
const DashBoard = () => import('../../pages/dashboard/index.vue')
const Weight = () => import('../../pages/funcs/weight/index.vue')

const routes: RouteRecordRaw[] = [
  { path: '/:pathMatch(.*)*', name: 'NotFound', component: NotFind },
  {
    path: '/',
    name: 'index',
    component: Home,
  },
  {
    path: '/login',
    name: 'login',
    component: Login,
  },
  {
    path: '/dashboard',
    name: 'dashboard',
    component: DashBoard,
  },
  {
    path: '/funs/weight',
    name: 'weight',
    component: Weight,
  },
]

export default routes
```

å°†é¡¶å±‚çš„`router-view`ç»„ä»¶æ”¾åœ¨App.vueä¸­

`src/App.vue`
```vue
<template>
  <div class="app">
    <router-view></router-view>
  </div>
</template>
```
### ç§»åŠ¨ç«¯é€‚é…

é¦–å…ˆåœ¨htmlæ¨¡æ¿ä¸­æ·»åŠ ä¸€å¥
```html
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
```

å°ºå¯¸å•ä½ä½¿ç”¨**remæ–¹æ¡ˆ**ï¼Œè®¾è®¡ç¨¿æŒ‰375æ¥å®š

é€šè¿‡è°ƒç ”ç°æœ‰çš„å“åº”å¼ç½‘ç«™ä¸æ¨¡æ‹Ÿå™¨ä¸­å®æµ‹ï¼Œå°ºå¯¸ä¸»è¦ç”±`320`,`360`,`375`,`414`å››ç§ï¼Œå¾—å‡ºä»¥ä¸‹ç»“æœï¼š
* htmlæ ¹å…ƒç´ å­—ä½“å¤§å°
  * 320ï¼š12px
  * 360ï¼š13.5px = 360/320*12
  * 375ï¼š14.0625px = 375/320*12
  * 414ï¼šæ²¿ç”¨375æ–¹æ¡ˆ

äºæ˜¯ä¹å¯ä»¥ç›´æ¥ä½¿ç”¨ `åª’ä½“æŸ¥è¯¢` å¤„ç†å•ä½çš„è®¾ç½®

åœ¨`App.vue`ä¸­åŠ å…¥å¾—å‡ºçš„å¦‚ä¸‹ä»£ç ï¼š
```html
<style>
@media screen and (min-width: 320px) {
  html {
    font-size: 12px;
  }
}
@media screen and (min-width: 360px) {
  html {
    font-size: 13.5px;
  }
}
@media screen and (min-width: 375px) {
  html {
    font-size: 14.0625px;
  }
}
</style>
```
æ³¨æ„ï¼šç”±äºæ ·å¼æƒé‡ä¸€æ ·çš„æƒ…å†µä¸‹ï¼Œä¼šé‡‡ç”¨åå®šä¹‰çš„å†…å®¹ï¼Œæ‰€ä»¥å¤§å°ºå¯¸åª’ä½“æŸ¥è¯¢ä»£ç çš„æ”¾åœ¨åé¢

**TODO**ï¼šè¡¥æ ·å¼æƒé‡è®¡ç®—æ–‡ç« 

ä¸æ’é™¤ç”¨æˆ·ç”µè„‘è®¿é—®åº”ç”¨çš„æƒ…å†µï¼Œä¸ºæå‡ç”¨æˆ·ä½“éªŒï¼Œå°†é¡¶å±‚`å®¹å™¨æ ‡ç­¾`å›ºå®šä¸º414px

åœ¨`App.vue`ä¸­åŠ å…¥å¦‚ä¸‹ä»£ç ï¼š
```html
<style scoped>
.app {
  max-width: 414px;
  margin: 0 auto;
}
</style>
```

## é¡µé¢å¼€å‘
å‡†å¤‡å·¥ä½œåŸºæœ¬å®Œæˆåå°±å¼€å§‹ç³Šé¡µé¢

ç”±äºç³Šé¡µé¢æ˜¯ä¸ªä½“åŠ›æ´»å„¿ï¼Œæ²¡æœ‰è¥å…»ï¼Œæ–‡ä¸­åªè´´ä¸€äº›å…³é”®ä»£ç ï¼Œå®Œæˆä»£ç ï¼Œå»ä»“åº“æ¢ç´¢

é¡µé¢ä½¿ç”¨`@vue/compiler-sfc`æ–¹æ¡ˆï¼Œå¼€å‘ææ•ˆï¼Œä»£ç æ›´ç›´è§‚

ä½¿ç”¨çš„æ¸å˜è‰²æ¥æºï¼š[webgradients](https://webgradients.com/)
### é¦–é¡µ
* [å®Œæ•´æºç ](https://github.com/ATQQ/timeLover/blob/main/src/pages/home/index.vue)
  
é¡µé¢æ•´ä½“ä¸ŠåªåŒ…å«`åº”ç”¨å`ï¼Œ`ç®€ä»‹`ï¼Œ`å¯¼èˆªç™»å½•`3éƒ¨åˆ†
```vue
<template>
  <div class="home">
    <h1 class="title">æ—¶å…‰æ‹äºº</h1>
    <!-- ç®€ä»‹ -->
    <section class="introduce">
      <p v-for="(item, index) in introduces" :key="index">{{ item }}</p>
    </section>
    <section class="introduce">
      <p>
        <router-link to="/login">
          <van-button size="small" round :color="loginColor">ç‚¹å‡»ä½“éªŒ</van-button>
        </router-link>
      </p>
    </section>
  </div>
</template>
<script lang="ts" setup>
import { reactive } from 'vue'

const introduces: string[] = reactive(['è®°å½•æƒ…ä¾£ä¹‹é—´', 'æ—¥å¸¸ç”Ÿæ´»è¶£äº‹,ç”Ÿæ´»è¶³è¿¹'])
const loginColor = 'linear-gradient(to right, #b8cbb8 0%, #b8cbb8 0%, #b465da 0%, #cf6cc9 33%, #ee609c 66%, #ee609c 100%)'
</script>
```

### ç™»å½•é¡µ
* [å®Œæ•´æºç ](https://github.com/ATQQ/timeLover/blob/main/src/pages/login/index.vue)

é¿å…ç¹ççš„æ³¨å†Œæµç¨‹ï¼Œç›´æ¥ä½¿ç”¨çŸ­ä¿¡éªŒè¯ç ç™»å½•æ–¹æ¡ˆ

è¿™ä¸ªé¡µé¢å¼€å‘äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„ `Input` ç»„ä»¶

æ•ˆæœå¦‚ä¸‹ï¼ŒåŒ…å«`icon`ï¼Œ`è¾“å…¥åŒºåŸŸ`ï¼Œ`è¾“å…¥æç¤º`ï¼Œ`æ³¨æ„æç¤º`4éƒ¨åˆ†å†…å®¹

![å›¾ç‰‡](https://img.cdn.sugarat.top/mdImg/MTYyMzY0ODM3MTkwNA==623648371904)

* [ç»„ä»¶çš„å®Œæ•´æºç ](https://github.com/ATQQ/timeLover/blob/main/src/components/UnderInput.vue)

Domç»“æ„å¦‚ä¸‹
```vue
<template>
  <div class="under-input">
    <van-icon class="icon" v-if="icon" :name="icon" />
    <input
      :maxlength="maxLength"
      :placeholder="placeholder"
      :type="type"
      :value="modelValue"
      @input="handleInput"
    />
  </div>
  <p v-if="tips" class="tips">
    {{ tips }}
  </p>
</template>
```

è¾“å…¥å†…å®¹ä½¿ç”¨ç®€å•çš„æ­£åˆ™è¿›è¡Œæ ¡éªŒ
```ts
// æ‰‹æœºå·
export const rMobile = /^[1]\d{10}$/
// éªŒè¯ç 
export const rCode = /\d{4}/
```

### åŠŸèƒ½é¡µ
* [å®Œæ•´æºç ](https://github.com/ATQQ/timeLover/blob/main/src/pages/dashboard/index.vue)

è°ƒç ”äº†ä¸€äº›ç±»ä¼¼çš„åº”ç”¨ï¼Œæœ€ç»ˆé€‰æ‹©é‡‡ç”¨**å¡ç‰‡**çš„å½¢å¼å±•ç°å„ä¸ªåŠŸèƒ½å…¥å£

å¡ç‰‡ç»„ä»¶ä¸»è¦åŒ…å«**åŠŸèƒ½ä»‹ç»**ä¸**å½©è‰²å›¾æ ‡**ä¸¤éƒ¨åˆ†ï¼Œæ•ˆæœå¦‚ä¸‹

![å›¾ç‰‡](https://img.cdn.sugarat.top/mdImg/MTYyMzY0ODc3MDM3Mw==623648770373)

Domç»“æ„å¦‚ä¸‹ï¼š
```vue
<template>
  <div
    class="fun-card"
    :class="{
      disabled,
    }"
  >
    <div>
      <h1 class="title">{{ title }}</h1>
    </div>
    <span v-if="icon" :class="[icon]" class="iconfont icon"></span>
    <!-- lock -->
    <div v-if="disabled" class="lock">
      <span class="icon-lockclosed iconfont"> </span>
    </div>
  </div>
</template>
```
### å½©è‰²å­—ä½“å›¾æ ‡
* å½©è‰²å›¾æ ‡ä½¿ç”¨`iconfont`
* é¡¹ç›®ä¸­[å¼•å…¥æ­¥éª¤](https://at.alicdn.com/t/project/2609471/b1aed21a-fa33-4a1a-8b32-175e4b295c16.html?spm=a313x.7781069.1998910419.35)


åªéœ€è¦ç®€å•çš„åœ¨æ¨¡æ¿ä¸­å¼•å…¥cssèµ„æºï¼Œä½¿ç”¨çš„æ—¶å€™ç›´æ¥ä¹¦å†™classå³å¯

```html
<!-- index.html -->
<link rel="stylesheet" href="//at.alicdn.com/t/font_2609471_9womj4g1e15.css">
```

```html
<!-- ä½¿ç”¨å›¾æ ‡ -->
<span class="icon-lockclosed iconfont"> </span>
```
## æœ¬æœŸæ•ˆæœ
![å›¾ç‰‡](https://img.cdn.sugarat.top/mdImg/MTYyMzY1MDcwODQ5NA==179e683a-47e7-4008-ab25-59f31f3b2a3a.png)

* çº¿ä¸Š[é¢„è§ˆåœ°å€](https://lover.sugarat.top)

## èµ„æ–™æ±‡æ€»
* [ä»“åº“æºä»£ç ](https://github.com/ATQQ/timeLover)
* [é¡¹ç›®æ¨¡æ¿ï¼švite-vue3-template](https://github.com/atqq/vite-vue3-template)
* [ä½¿ç”¨æ¨¡æ¿åˆå§‹åŒ–é¡¹ç›®](https://github.com/ATQQ/vite-vue3-template/generate)
* [iconfont:ã€Šå½©è‰²å­—ä½“å›¾æ ‡çš„ä»‹ç»æ–‡ç« ã€‹](https://mp.weixin.qq.com/s/qQ_8ICpAT3AMHFhavrsrgw)
* [å½©è‰²å›¾æ ‡å¼•å…¥æ­¥éª¤](https://at.alicdn.com/t/project/2609471/b1aed21a-fa33-4a1a-8b32-175e4b295c16.html?spm=a313x.7781069.1998910419.35)
* [æ¸å˜è‰²ï¼šwebgradients](https://webgradients.com/)
* [@vue/compiler-sfcä½¿ç”¨](https://github.com/vuejs/rfcs/blob/script-setup-2/active-rfcs/0000-script-setup.md)
* [åœ¨çº¿å¸¦å£³æˆªå›¾ç”Ÿæˆ](https://deviceshots.com/app?device=apple-iphone-x)

